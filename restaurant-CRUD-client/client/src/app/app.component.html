<!--The content below is only a placeholder and can be replaced.-->

<div class="container-fluid">

  <div class="row">
    <div class="col-m">
      <p class="text-left" style="font-size: 20px;">Category <span style="
    font-size: 24px;margin-left: 10%" (click)="startAddingCategory()">    <i class="ion-android-add"></i>



    </span></p>

      <ul class="list-group">
        <li class="list-group-item" *ngIf="isAddingCategory">
          <div class="input-group">
            <input type="text" [(ngModel)]="newCategoryName" class="form-control"
                   (keyup.enter)="addCategory(newCategoryName)">

            <div class="input-group-append">
              <button class="btn btn-outline-secondary" type="button" (click)="cancelAddCategory()"><i
                class="ion-close"></i></button>
            </div>
          </div>
        </li>

        <li class="list-group-item" *ngFor="let category of categories">

          <div class="input-group">

            <label class="form-control" (click)="getCategoryDishes(category)"
                   *ngIf="!category.isEditing">{{ category.name }}</label>
            <input type="text" [(ngModel)]="category.name" class="form-control" (keyup.enter)="updateCategory(category)"
                   *ngIf="category.isEditing">


            <div class="input-group-append">
              <button class="btn btn-outline-secondary" type="button" (click)="toggleEdit(category)"><i
                class="ion-edit"></i></button>
              <button class="btn btn-outline-secondary" type="button" (click)="deleteCategory(category)"><i
                class="ion-close"></i></button>
            </div>


          </div>
        </li>

      </ul>

    </div>


    <div class="col" *ngIf="selectedCategory">
      <p class="text-left" style="font-size: 20px;">{{ selectedCategory.name }} <span style="
    font-size: 24px;margin-left: 10%" (click)="startAddingDish()">    <i class="ion-android-add"></i>



    </span></p>

      <ul class="list-group">
        <li class="list-group-item" *ngIf="isAddingDish">
          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text">New Dish name and price</span>
            </div>
            <input type="text" [(ngModel)]="newDish.name" required placeholder="New Dish" class="form-control"
                   (keyup.enter)="addDish(newDish)">

            <input type="number" [(ngModel)]="newDish.price" placeholder="Price" class="form-control"
                   (keyup.enter)="addDish(newDish)">

            <div class="input-group-append">
              <button class="btn btn-outline-secondary" type="button" (click)="cancelAddDish()"><i
                class="ion-close"></i></button>
            </div>
          </div>

          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text">Description/Ingredients</span>
            </div>
            <input type="text" [(ngModel)]="newDish.description" placeholder="Description/Ingredients"
                   class="form-control"
                   (keyup.enter)="addDish(newDish)">
          </div>

        </li>

        <li class="list-group-item" *ngFor="let dish of categoryDishes">

          <div (click)="toggleDishEdit(dish)">

            <p>{{ dish.name }}<label class="text-right" style="float: right">
              {{ dish.price | currency:'USD':true:'1.2-2'}}</label></p>
            <p style="font-size: small">{{ dish.description }}</p>

          </div>
          <div *ngIf="dish.isEditing">


            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text">New Dish name and price</span>
              </div>
              <input type="text" [(ngModel)]="dish.name" required placeholder="New Dish" class="form-control"
                     (keyup.enter)="updateDish(dish)">

              <input type="number" [(ngModel)]="dish.price" placeholder="Price" class="form-control"
                     (keyup.enter)="updateDish(dish)">

              <div class="input-group-append">
                <button class="btn btn-outline-secondary" type="button" (click)="updateDish(dish)"><i
                  class="ion-edit"></i></button>
              </div>

            </div>

            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text">New Description/Ingredients</span>
              </div>
              <input type="text" [(ngModel)]="dish.description" placeholder="Description/Ingredients"
                     class="form-control"
                     (keyup.enter)="updateDish(dish)">

              <div class="input-group-append">
                <button class="btn btn-outline-secondary" type="button" (click)="deleteDish(dish)"><i
                  class="ion-close"></i></button>
              </div>

            </div>
          </div>


        </li>

      </ul>
    </div>

  </div>
</div>


